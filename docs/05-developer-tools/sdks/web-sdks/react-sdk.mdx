---
title: "React SDK"
sidebar_label: "React SDK"
slug: "../react"
toc_min_heading_level: 2
toc_max_heading_level: 5
pagination_next: null
pagination_prev: null
hide_title: true
---

import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"
import CodeBlock from "@theme/CodeBlock"
import { SDKHeader } from "/src/components/SDKHeader"
import {
  ReferenceDisplayLink,
  GithubDisplayLink,
} from "/src/components/DisplayLink"
import { SimpleGrid } from "/src/components/Grid"
import JsQuickstart from "/docs/partials/_js-quickstart.mdx"

<SDKHeader
  logoSrc="/img/external-logos/react.svg"
  title="Moralis React SDK"
  description="Web3 data for your React dapp"
  shields={[
    {
      src: "https://img.shields.io/npm/v/@moralisweb3/react?label=version",
      alt: "version",
    },
    {
      src: "https://img.shields.io/bundlephobia/minzip/@moralisweb3/react",
      alt: "bundle size",
    },
    {
      src: "https://img.shields.io/npm/types/@moralisweb3/react",
      alt: "types",
    },
    {
      src: "https://img.shields.io/github/last-commit/MoralisWeb3/Moralis-JS-SDK",
      alt: "last commit",
    },
  ]}
/>

The Moralis React SDK helps you integrate web3 data from our APIs into your React app.

- 45+ hooks for easy and fast blockchain data accessing
- NFT, Balance, Events, DeFi, Token, Transaction, Block, Resolve and more react hooks
- Cross-chain compatible
- Optimized, Lightweight, supports Cache persistence and Request duplication safe
- TypeScript support out-of-box
- Easy setup, but with a lot of configuration options

## Getting Started

### Prerequisites

- Get your [**Moralis API key**](http://localhost:3000/web3-data-api/get-your-api-key) if you haven't already.
- Make sure to have at least the latest stable version of **nodeJs** installed.
- Have a packagemanager (**yarn** / **npm** / **pnpm**) installed

### Quickstart

<JsQuickstart />

### Setting up

Make sure to have `react` and `react-dom` installed as dependencies, then install `@moralisweb3/react`

<Tabs groupId="package-manager" queryString>
  <TabItem value="npm" label="npm" default>
    <CodeBlock language="shell" showLineNumbers>
      {`npm install @moralisweb3/react react react-dom`}
    </CodeBlock>
  </TabItem>
  <TabItem value="yarn" label="yarn">
    <CodeBlock language="shell" showLineNumbers>
      {`yarn add @moralisweb3/react react react-dom`}
    </CodeBlock>
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    <CodeBlock language="shell" showLineNumbers>
      {`pnpm add  @moralisweb3/react react react-dom`}
    </CodeBlock>
  </TabItem>
</Tabs>

### Initialise

Then wrap your app in a `<MoralisProvider>`, and pass the config as a prop to the `MoralisProvider`

```jsx
import React from "react"
import ReactDOM from "react-dom"
import { MoralisProvider, MoralisConfig } from "@moralisweb3/react"

const moralisConfig: MoralisConfig = {
  apiKey: "MORALIS_API_KEY",
}

ReactDOM.render(
  <MoralisProvider config={moralisConfig}>
    <App />
  </MoralisProvider>,
  document.getElementById("root"),
)
```

Once the Moralis Javascript SDK is initialized, you will be able to use all the powerful APIs provided by Moralis to build your dapps.

## Usage

Basically, there are three options how to fetch data with `@moralisweb3/react` hooks:

### 1. Provide params directly to the hook

In case all required params for the hook are defined you can provide them directly to the hook params. Data fetching in this case will be triggered automatically:

```jsx
import { useEvmWalletTokenBalances } from "@moralisweb3/react"

const App = () => {
  const { data: balance } = useEvmWalletTokenBalances({ address: "0x..." })

  return <div>{JSON.stringify(balance, null, 2)}</div>
}
```

### 2. Provide params to the fetch()

Sometimes you need to fetch data somewhere in your code or even fetch it twice with different variables. You can provide params to the `fetch()` function:

```jsx
import { useState } from "react"
import { useEvmNativeBalance } from "@moralisweb3/react"
import { EvmChain } from "moralis/common-evm-utils"

const App = () => {
  const { fetch } = useEvmNativeBalance()
  const [ethBalance, setEthBalance] = useState("")
  const [bnbBalance, setBnbBalance] = useState("")

  const fetchBalanceForEthereum = async () => {
    const response = await fetch({
      address: "0x...",
      chain: EvmChain.ETHEREUM.hex,
    })
    if (response?.balance) {
      setEthBalance(response.balance.ether)
    }
  }

  const fetchBalanceForBsc = async () => {
    const response = await fetch({ address: "0x...", chain: EvmChain.BSC })
    if (response?.balance) {
      setBnbBalance(response.balance.ether)
    }
  }

  return (
    <div>
      <button onClick={fetchBalanceForEthereum}>
        Fetch Balance For Ethereum
      </button>
      <button onClick={fetchBalanceForBsc}>Fetch Balance For BSC</button>
      <p>Ethereum Balance: {ethBalance} Ether</p>
      <p>Binance Balance: {bnbBalance} BNB</p>
    </div>
  )
}
```

### 3. Provide fetching options

It's possible to set fallbacks or change settings of data fetching per hook. These options will override `config` provided to `MoralisProvider`.

```jsx
import { useEvmNativeBalance } from "@moralisweb3/react"
import { EvmChain } from "moralis/common-evm-utils"

const App = () => {
  const { fetch, ethBalance } = useEvmNativeBalance(
    {
      address: "0x...",
    },
    {
      onSuccess: (res) => console.log(res),
      refreshInterval: 3000,
    },
  )

  return (
    <div>
      <p>Ethereum Balance: {ethBalance} Ether</p>
    </div>
  )
}
```

:::tip
Use Typescript to get autocompletion and type hints for all the endpoints.
:::

## Examples

### Getting token balances of an address via the EVM API

```jsx
import { useEvmWalletTokenBalances } from "@moralisweb3/react"

const App = () => {
  const {
    data: balance,
    error,
    fetch,
    isFetching,
  } = useEvmWalletTokenBalances({ address: "0x..." })

  if (isFetching) return <div>Fetching/Refreshing balanceâ€¦</div>
  if (error) return <div>{JSON.stringify(error, null, 2)}</div>
  return (
    <>
      <button onClick={fetch}>Refetch Balance</button>
      <div>{JSON.stringify(balance, null, 2)}</div>
    </>
  )
}
```

## Configuration

The `config` property for `MoralisProvider` can be used not only to specify the API key, but also for additional Moralis instance settings and request fetching settings. Example:

```js
import React from "react"
import ReactDOM from "react-dom"
import { MoralisProvider, MoralisConfig } from "@moralisweb3/react"

const moralisConfig: MoralisConfig = {
  apiKey: "YOUR_API_KEY",
  formatEvmAddress: "checksum",
  formatEvmChainId: "decimal",
  logLevel: "verbose",
  refreshInterval: 3000,
  revalidateOnFocus: true,
}

ReactDOM.render(
  <MoralisProvider config={moralisConfig}>
    <App />
  </MoralisProvider>,
  document.getElementById("root"),
)
```

Below, you can find the possible options for the `config`:

### Moralis instance config:

| Option               | Description                                                                                                          | Default       | Required |
| -------------------- | -------------------------------------------------------------------------------------------------------------------- | ------------- | -------- |
| `apiKey`             | Your Moralis ApiKey                                                                                                  | `null`        | yes      |
| `formatEvmAddress`   | Format style for evm addresses. Possible values: `'lowercase'`, `'checksum'`                                         | `'lowercase'` | no       |
| `formatEvmChainId`   | Format style for chains. Possible values: `'decimal'`, `'hex'`                                                       | `'hex'`       | no       |
| `logLevel`           | Level of detail for log messages. Possible values: `'verbose'`, `'debug'`, `'info'`, `'warning'`, `'error'`, `'off'` | `'info'`      | no       |
| `defaultSolNetwork`  | Default network for Solana. Possible values: `SolNetworkish` type                                                    | `'mainnet'`   | no       |
| `defaultEvmApiChain` | Default chain for Evm. Possible values: `EvmChainish` type                                                           | `'0x1'`       | no       |

### Data fetching config:

| Option                                                      | Description                                                                                                                                                                                                    | Default | Required |
| ----------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | -------- |
| `onSuccess(data, key, config)`                              | Callback function when a request finishes successfully                                                                                                                                                         | `null`  | no       |
| `onError(err, key, config)`                                 | Callback function when a request returns an error                                                                                                                                                              | `null`  | no       |
| `onErrorRetry(err, key, config, revalidate, revalidateOps)` | Handler for error retry                                                                                                                                                                                        | `null`  | no       |
| `onDiscarded(key)`                                          | Callback function when a request is ignored due to race conditions                                                                                                                                             | `null`  | no       |
| `revalidateIfStale`                                         | Automatically revalidate even if there is stale data                                                                                                                                                           | `true`  | no       |
| `revalidateOnMount`                                         | Enable or disable automatic revalidation when component is mounted                                                                                                                                             | `null`  | no       |
| `revalidateOnFocus `                                        | Automatically revalidate when window gets focused                                                                                                                                                              | `false` | no       |
| `revalidateOnReconnect`                                     | Automatically revalidate when the browser regains a network connection                                                                                                                                         | `true`  | no       |
| `refreshInterval`                                           | Disabled by default: refreshInterval = 0. If set to a number, polling interval in milliseconds. If set to a function, the function will receive the latest data and should return the interval in milliseconds | `0`     | no       |
| `refreshWhenHidden`                                         | Polling when the window is invisible (if refreshInterval is enabled)                                                                                                                                           | `false` | no       |
| `refreshWhenOffline`                                        | Polling when the browser is offline                                                                                                                                                                            | `false` | no       |
| `shouldRetryOnError`                                        | Retry when fetcher has an error                                                                                                                                                                                | `true`  | no       |
| `dedupingInterval`                                          | Dedupe requests with the same key in this time span in milliseconds                                                                                                                                            | `2000`  | no       |
| `focusThrottleInterval `                                    | Only revalidate once during a time span in milliseconds                                                                                                                                                        | `5000`  | no       |
| `loadingTimeout `                                           | Timeout to trigger the onLoadingSlow event in milliseconds                                                                                                                                                     | `3000`  | no       |
| `errorRetryInterval `                                       | Error retry interval in milliseconds                                                                                                                                                                           | `5000`  | no       |
| `errorRetryCount`                                           | Mxx error retry count                                                                                                                                                                                          | `null`  | no       |
| `fallback`                                                  | A key-value object of multiple fallback data                                                                                                                                                                   | `null`  | no       |
| `fallbackData`                                              | Initial data to be returned (note: This is per-hook)                                                                                                                                                           | `null`  | no       |
| `keepPreviousData`                                          | Return the previous key's data until the new data has been loaded                                                                                                                                              | `false` | no       |

## References

<SimpleGrid>
  <ReferenceDisplayLink
    label="React SDK References"
    subLabel="Technical documentation"
    href="https://github.com/MoralisWeb3/Moralis-JS-SDK/tree/main/packages/react"
  />
  <GithubDisplayLink
    label="Github repo"
    subLabel="View code and contribute"
    href="https://github.com/MoralisWeb3/Moralis-JS-SDK/tree/main/packages/react"
  />
</SimpleGrid>
