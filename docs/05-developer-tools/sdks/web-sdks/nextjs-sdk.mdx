---
title: "NextJS SDK"
sidebar_label: "NextJS SDK"
slug: "../nextjs"
toc_min_heading_level: 2
toc_max_heading_level: 5
pagination_next: null
pagination_prev: null
hide_title: true
---

import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"
import CodeBlock from "@theme/CodeBlock"
import { SDKHeader } from "/src/components/SDKHeader"
import {
  ReferenceDisplayLink,
  GithubDisplayLink,
} from "/src/components/DisplayLink"
import { SimpleGrid } from "/src/components/Grid"
import JsQuickstart from "/docs/partials/_js-quickstart.mdx"

<SDKHeader
  logoSrc="/img/external-logos/nextjs.svg"
  title="Moralis NextJs SDK"
  description="Web3 data for your NextJs dapp"
  shields={[
    {
      src: "https://img.shields.io/npm/v/@moralisweb3/next?label=version",
      alt: "version",
    },
    {
      src: "https://img.shields.io/bundlephobia/minzip/@moralisweb3/next",
      alt: "bundle size",
    },
    {
      src: "https://img.shields.io/npm/types/@moralisweb3/next",
      alt: "types",
    },
    {
      src: "https://img.shields.io/github/last-commit/MoralisWeb3/Moralis-JS-SDK",
      alt: "last commit",
    },
  ]}
/>

The Moralis NextJs SDK helps you integrate web3 data from our APIs into your NextJs app.

- 45+ hooks for easy and fast blockchain data accessing
- NFT, Balance, Events, DeFi, Token, Transaction, Block, Resolve and more react hooks
- Cross-chain compatible
- Optimized, Lightweight, supports Cache persistence and Request duplication safe
- TypeScript support out-of-box
- Easy setup, but with a lot of configuration options

## Getting Started

### Prerequisites

- Get your [**Moralis API key**](/web3-data-api/evm/get-your-api-key) if you haven't already.
- Make sure to have at least the latest stable version of **nodeJs** installed.
- Have a packagemanager (**yarn** / **npm** / **pnpm**) installed

### Quickstart

<JsQuickstart />

### Setting up

Make sure to have `next`, `next-auth`, `react` and `react-dom` installed as dependencies, then install `@moralisweb3/next`

<Tabs groupId="package-manager" queryString>
  <TabItem value="npm" label="npm" default>
    <CodeBlock language="shell" showLineNumbers>
      {`npm install @moralisweb3/next next next-auth react react-dom`}
    </CodeBlock>
  </TabItem>
  <TabItem value="yarn" label="yarn">
    <CodeBlock language="shell" showLineNumbers>
      {`yarn add @moralisweb3/next next next-auth react react-dom`}
    </CodeBlock>
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    <CodeBlock language="shell" showLineNumbers>
      {`pnpm add  @moralisweb3/next next next-auth react react-dom`}
    </CodeBlock>
  </TabItem>
</Tabs>

Next, add a new file `.env.local` in project's root and provide a new variable with your Moralis API key

```sh
MORALIS_API_KEY= ***
```

### 3. Create API route

To use Moralis APIs in your NextJs project create a file `pages/api/moralis/[...moralis].ts` with following code:

```js
import { MoralisNextApi } from "@moralisweb3/next"

export default MoralisNextApi({ apiKey: process.env.MORALIS_API_KEY })
```

You can provide a configuration object to the `MoralisNextApi`.

### Initialise

## Usage

Basically, there are three options how to fetch data with `@moralisweb3/next` hooks:

## 1. Provide params directly to the hook

In case all required params for the hook are defined you can provide them directly to the hook params. Data fetching in this case will be triggered automatically:

```jsx
import { useEvmWalletTokenBalances } from "@moralisweb3/next"

const App = () => {
  const { data: balance } = useEvmWalletTokenBalances({ address: "0x..." })

  return <div>{JSON.stringify(balance, null, 2)}</div>
}
```

## 2. Provide params to the fetch()

Sometimes you need to fetch data somewhere in your code or even fetch it twice with different variables. You can provide params to the `fetch()` function:

```jsx
import { useState } from "react"
import { useEvmNativeBalance } from "@moralisweb3/next"
import { EvmChain } from "moralis/common-evm-utils"

const App = () => {
  const { fetch } = useEvmNativeBalance()
  const [ethBalance, setEthBalance] = useState("")
  const [bnbBalance, setBnbBalance] = useState("")

  const fetchBalanceForEthereum = async () => {
    const response = await fetch({ address: "0x...", chain: EvmChain.ETHEREUM })
    if (response?.balance) {
      setEthBalance(response.balance.ether)
    }
  }

  const fetchBalanceForBsc = async () => {
    const response = await fetch({ address: "0x...", chain: EvmChain.BSC })
    if (response?.balance) {
      setBnbBalance(response.balance.ether)
    }
  }

  return (
    <div>
      <button onClick={fetchBalanceForEthereum}>
        Fetch Balance For Ethereum
      </button>
      <button onClick={fetchBalanceForBsc}>Fetch Balance For BSC</button>
      <p>Ethereum Balance: {ethBalance} Ether</p>
      <p>Binance Balance: {bnbBalance} BNB</p>
    </div>
  )
}
```

## 3. Disable Auto Data Fetching

To disable auto data fetching after your component has been mounted you can set `revalidateOnMount = false`. Example:

```jsx
import { useEvmWalletTokenBalances } from "@moralisweb3/next"

const App = () => {
  const { data: balance, fetch } = useEvmWalletTokenBalances(
    { address: "0x..." },
    { revalidateOnMount: false },
  )

  return (
    <>
      <button onClick={fetch}>Fetch Balance Manually</button>
      <div>{JSON.stringify(balance, null, 2)}</div>
    </>
  )
}
```

:::tip
Use Typescript to get autocompletion and type hints for all the endpoints.
:::

## Examples

### Getting token balance of an address via the EVM API

```jsx
import { useEvmWalletTokenBalances } from "@moralisweb3/next"

const App = () => {
  const {
    data: balance,
    error,
    fetch,
    isFetching,
  } = useEvmWalletTokenBalances({ address: "0x..." })

  if (isFetching) return <div>Fetching/Refreshing balanceâ€¦</div>
  if (error) return <div>{JSON.stringify(error, null, 2)}</div>
  return (
    <>
      <button onClick={fetch}>Refetch Balance</button>
      <div>{JSON.stringify(balance, null, 2)}</div>
    </>
  )
}
```

## Configuration

The `@moralisweb3/next` hooks use [SWR](https://swr.vercel.app/) for a better developer experience. You can provide [config object](https://swr.vercel.app/docs/options#options) to the hooks as it's shown bellow:

```jsx
const { data } = useEvmWalletTokenBalances(
  { address: "0x..." },
  { revalidateOnFocus: true },
)
```

## References

<SimpleGrid>
  <ReferenceDisplayLink
    label="NextJs SDK References"
    subLabel="Technical documentation"
    href="https://github.com/MoralisWeb3/Moralis-JS-SDK/tree/main/packages/next"
  />
  <GithubDisplayLink
    label="Github repo"
    subLabel="View code and contribute"
    href="https://github.com/MoralisWeb3/Moralis-JS-SDK/tree/main/packages/next"
  />
</SimpleGrid>
